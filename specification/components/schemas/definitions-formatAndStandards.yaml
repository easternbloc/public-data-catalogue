type: object
additionalProperties: false
required:
- vocabularyEncodingScheme
- conformsTo
- language
- format
properties:
  vocabularyEncodingScheme:
    # "$id": "#/properties/accessibility/formatAndStandards/vocabularyEncodingScheme"
    # HDR UK SCHEMA FAIL: expected object to have property 'type'. Fails on 'default:' field. SWK added property 'type: string'
    type: string
    title: Controlled Vocabulary
    # "$comment": https://www.dublincore.org/specifications/dublin-core/dcmi-terms/#http://purl.org/dc/dcam/VocabularyEncodingScheme
    default: LOCAL
    description: 'List any relevant terminologies / ontologies / controlled vocabularies,
          such as ICD 10 Codes, NHS Data Dictionary National Codes or SNOMED CT International,
          that are being used by the dataset. If the controlled vocabularies are local
          standards, please make that explicit. If you are using a standard that has
          not been included in the list, please use “other” and contact support desk
          to ask for an addition. Notes: More than one vocabulary may be provided.'
    anyOf:
    - "$ref": "common-definitions/common.schema.yaml#/definitions/commaSeparatedValues"
    - type: array
      items:
        allOf:
        - "$ref": "common-definitions/common.vocab.schema.yaml#/definitions/controlledVocabulary"
      minItems: 0
  conformsTo:
    # "$id": "#/properties/accessibility/formatAndStandards/conformsTo"
    # HDR UK SCHEMA FAIL: expected object to have property 'type'. Fails on 'default:' field. SWK added property 'type: string'
    type: string
    title: Conforms To
    # "$comment": dct:conformsTo
    default: LOCAL
    description: List standardised data models that the dataset has been stored
          in or transformed to, such as OMOP or FHIR. If the data is only available
          in a local format, please make that explicit. If you are using a standard
          that has not been included in the list, please use “other” and contact support
          desk to ask for an addition.
    anyOf:
    - "$ref": "common-definitions/common.schema.yaml#/definitions/commaSeparatedValues"
    - type: array
      items:
      # Schema Fail. SWK replaced with '$ref: "definitions-standardisedDataModels.yaml" ' 
      # - "$ref": "definitions-standardisedDataModels.yaml" 
        # $ref: "valuesets/standardisedDataModels.yaml"   
        $ref: "common-definitions/common.vocab.schema.yaml#/definitions/standardisedDataModels"  
  language:
    # "$id": "#/properties/accessibility/formatAndStandards/language"
    # HDR UK SCHEMA FAIL: expected object to have property 'type'. Fails on 'default:' field. SWK added property 'type: string'
    type: string
    title: Language
    description: This should list all the languages in which the dataset metadata
          and underlying data is made available.
    default: en
    # "$comment": 'dct:language. FIXME: Conforms to spec, but may be a list of strings
    #       given cardinality 1:*. Validate against external list of languages. Resources
    #       defined by the Library of Congress (ISO 639-1, ISO 639-2) SHOULD be used.'
    anyOf:
    - "$ref": "common-definitions/common.schema.yaml#/definitions/commaSeparatedValues"
    - type: array
      items:
        allOf:
        - "$ref": "common-definitions/common.vocab.schema.yaml#/definitions/language"
      minItems: 1    
  format:
    # "$id": "#/properties/accessibility/formatAndStandards/format"
    title: Format
    description: 'If multiple formats are available please specify. See application,
          audio, image, message, model, multipart, text, video, https://www.iana.org/assignments/media-types/media-types.xhtml
          Note: If your file format is not included in the current list of formats,
          please indicate other. If you are using the HOP you will be directed to
          a service desk page where you can request your additional format. If not
          please go to: https://metadata.atlassian.net/servicedesk/customer/portal/4
          to request your format.'
    # "$comment": http://purl.org/dc/terms/format
    anyOf:
    - "$ref": "common-definitions/common.schema.yaml#/definitions/commaSeparatedValues"
    - type: array
      items:
        allOf:
        - "$ref": "common-definitions/common.schema.yaml#/definitions/format"
      minItems: 1     